<?xml version="1.0" encoding="UTF-8"?>

<magic>
  <!-- MetaSynth/Temple/EMU Hybrid Styles -->
  <Styles>
    <!-- Main backgrounds with Temple/EMU hybrid aesthetic -->
    <Style name="temple-background">
      <Background colour="#000000"/>
      <Border colour="#00D8FF" width="2"/>
      <Radius size="0"/>
    </Style>

    <Style name="emu-panel">
      <Background colour="#001428"/>
      <Border colour="#00FFFF" width="1"/>
      <Radius size="2"/>
    </Style>

    <!-- MetaSynth-style large knobs with bitmap feel -->
    <Style name="temple-knob-large">
      <Slider type="Rotary"/>
      <Slider textbox-outline="0xFF000000"/>
      <Slider textbox-background="0xFF000000"/>
      <Slider textbox="0xFFFFFF55"/>
      <Slider thumb="0xFF00FFFF"/>
      <Slider track="0xFF003366"/>
      <Slider background="0xFF000000"/>
      <Border colour="#00D8FF" width="3"/>
      <Radius size="0"/>
    </Style>

    <!-- Medium knobs for secondary controls -->
    <Style name="temple-knob-med">
      <Slider type="Rotary"/>
      <Slider textbox-outline="0xFF000000"/>
      <Slider textbox-background="0xFF000000"/>
      <Slider textbox="0xFFAAFF55"/>
      <Slider thumb="0xFF00D8FF"/>
      <Slider track="0xFF002244"/>
      <Slider background="0xFF000000"/>
      <Border colour="#55AAFF" width="2"/>
      <Radius size="0"/>
    </Style>

    <!-- Linear sliders with EMU blue theme -->
    <Style name="emu-slider">
      <Slider type="LinearHorizontal"/>
      <Slider textbox-outline="0xFF000000"/>
      <Slider textbox-background="0xFF000814"/>
      <Slider textbox="0xFFE0F7FF"/>
      <Slider thumb="0xFFFF00AA"/>
      <Slider track="0xFF004466"/>
      <Slider background="0xFF000000"/>
      <Border colour="#00D8FF" width="1"/>
      <Radius size="0"/>
    </Style>

    <!-- Temple/VGA style buttons -->
    <Style name="temple-button">
      <Button normal="0xFF0000AA"/>
      <Button over="0xFF0055FF"/>
      <Button down="0xFF00FFFF"/>
      <Text colour="0xFFFFFF55"/>
      <Border colour="#FFFF55" width="2"/>
      <Radius size="0"/>
    </Style>

    <!-- Z-plane galaxy visualizer -->
    <Style name="galaxy-visualizer">
      <Background colour="#000814"/>
      <Border colour="#00D8FF" width="3"/>
      <Radius size="4"/>
    </Style>

    <!-- Spectrum analyzer style -->
    <Style name="spectrum-analyzer">
      <Background colour="#000000"/>
      <Border colour="#FF00AA" width="2"/>
      <Radius size="0"/>
    </Style>

    <!-- MetaSynth bitmap font labels -->
    <Style name="bitmap-label-large">
      <Text colour="0xFFFFFF55" size="20" font="Consolas"/>
      <Background colour="#000000"/>
      <Border colour="#000000" width="1"/>
    </Style>

    <Style name="bitmap-label-med">
      <Text colour="0xFFE0F7FF" size="14" font="Consolas"/>
      <Background colour="#000000"/>
    </Style>

    <Style name="bitmap-label-small">
      <Text colour="0xFF55AAFF" size="10" font="Consolas"/>
      <Background colour="#000000"/>
    </Style>

    <!-- EMU signature value displays -->
    <Style name="emu-value-display">
      <Text colour="0xFF00FFFF" size="16" font="Consolas"/>
      <Background colour="#000814"/>
      <Border colour="#00D8FF" width="1"/>
    </Style>

    <!-- Level meter styling -->
    <Style name="meter-style">
      <Background colour="#000000"/>
      <Border colour="#00D8FF" width="1"/>
      <Radius size="0"/>
    </Style>
  </Styles>

  <!-- Main window layout - 900x650 MetaSynth/Temple aesthetic -->
  <View width="900" height="650" style="temple-background">

    <!-- Header Section -->
  <View x="0" y="0" width="900" height="60" style="emu-panel">
      <Label x="20" y="15" width="300" height="30" text="fieldEngine" style="bitmap-label-large"/>
      <!-- Minimal header controls -->
      <ToggleButton x="650" y="18" width="60" height="24" parameter="crt" text="crt"/>
      <ToggleButton x="715" y="18" width="60" height="24" parameter="solo" text="solo"/>
      <ComboBox x="780" y="18" width="100" height="24" parameter="pair"/>
  </View>

    <!-- Main Body: Three Column Layout -->
    <View x="0" y="60" width="900" height="410" style="temple-background">

      <!-- Left Column: Primary Controls -->
      <View x="20" y="20" width="200" height="370" style="emu-panel">
        <Label x="10" y="10" width="180" height="20" text="PRIMARY CONTROLS" style="bitmap-label-med"/>

        <!-- Large Morphing Knob -->
        <View x="60" y="40" width="80" height="100">
          <Slider x="0" y="0" width="80" height="80" parameter="morph" style="temple-knob-large"/>
          <Label x="0" y="85" width="80" height="15" text="MORPH" style="bitmap-label-small" justification="centred"/>
        </View>

        <!-- Intensity Knob -->
        <View x="60" y="150" width="80" height="100">
          <Slider x="0" y="0" width="80" height="80" parameter="intensity" style="temple-knob-large"/>
          <Label x="0" y="85" width="80" height="15" text="INTENSITY" style="bitmap-label-small" justification="centred"/>
        </View>

        <!-- Drive Knob -->
        <View x="60" y="260" width="80" height="100">
          <Slider x="0" y="0" width="80" height="80" parameter="drive" style="temple-knob-large"/>
          <Label x="0" y="85" width="80" height="15" text="DRIVE" style="bitmap-label-small" justification="centred"/>
        </View>
      </View>

      <!-- Center Column: Z-Plane Galaxy Visualizer -->
      <View x="240" y="20" width="420" height="370" style="galaxy-visualizer">
        <Label x="10" y="10" width="200" height="20" text="FILTER DISPLAY" style="bitmap-label-med"/>
        <!-- Large visualization area for Z-plane galaxy -->
        <Plot x="20" y="40" width="380" height="280" source="spectrum"
              background="0xFF000814"
              border="0x00000000"
              trace-colour="0xFF00D8FF"
              fill-colour="0x4000D8FF"/>

        <!-- Quick morph controls under visualizer -->
        <View x="20" y="330" width="380" height="30">
          <Slider x="0" y="5" width="180" height="20" parameter="morph" style="emu-slider"/>
          <Label x="0" y="25" width="180" height="10" text="MORPH" style="bitmap-label-small"/>

          <Slider x="200" y="5" width="180" height="20" parameter="mix" style="emu-slider"/>
          <Label x="200" y="25" width="180" height="10" text="MIX" style="bitmap-label-small"/>
        </View>
      </View>

      <!-- Right Column: Modulation Controls -->
      <View x="680" y="20" width="200" height="370" style="emu-panel">
        <Label x="10" y="10" width="180" height="20" text="MODULATION" style="bitmap-label-med"/>

        <!-- LFO Section -->
        <View x="10" y="40" width="180" height="140" style="emu-panel">
          <Label x="10" y="10" width="60" height="15" text="LFO" style="bitmap-label-med"/>

          <View x="50" y="35" width="80" height="90">
            <Slider x="0" y="0" width="80" height="60" parameter="lfoRate" style="temple-knob-med"/>
            <Label x="0" y="65" width="80" height="12" text="RATE" style="bitmap-label-small" justification="centred"/>
          </View>

          <View x="50" y="100" width="80" height="30">
            <Slider x="0" y="0" width="80" height="20" parameter="lfoDepth" style="emu-slider"/>
            <Label x="0" y="22" width="80" height="10" text="DEPTH" style="bitmap-label-small" justification="centred"/>
          </View>
        </View>

        <!-- Envelope Section -->
        <View x="10" y="190" width="180" height="100" style="emu-panel">
          <Label x="10" y="10" width="120" height="15" text="ENVELOPE" style="bitmap-label-med"/>

          <View x="50" y="30" width="80" height="60">
            <Slider x="0" y="0" width="80" height="50" parameter="envDepth" style="temple-knob-med"/>
            <Label x="0" y="52" width="80" height="12" text="DEPTH" style="bitmap-label-small" justification="centred"/>
          </View>
        </View>

        <!-- Additional Controls -->
        <View x="10" y="300" width="180" height="60">
          <View x="0" y="0" width="85" height="50">
            <Slider x="0" y="0" width="85" height="30" parameter="sectSat" style="temple-knob-med"/>
            <Label x="0" y="32" width="85" height="12" text="SECT SAT" style="bitmap-label-small" justification="centred"/>
          </View>

          <View x="95" y="0" width="85" height="50">
            <Slider x="0" y="0" width="85" height="30" parameter="mix" style="temple-knob-med"/>
            <Label x="0" y="32" width="85" height="12" text="MIX" style="bitmap-label-small" justification="centred"/>
          </View>
        </View>
      </View>

    </View>

    <!-- Bottom Section: Spectrum Analyzer -->
    <View x="0" y="470" width="900" height="180" style="spectrum-analyzer">
      <Label x="20" y="10" width="200" height="20" text="8-BAND SPECTRUM" style="bitmap-label-med"/>

      <!-- Input Meter -->
      <View x="20" y="40" width="60" height="120">
        <Label x="0" y="0" width="60" height="15" text="INPUT" style="bitmap-label-small" justification="centred"/>
        <MagicLevelMeter x="20" y="20" width="20" height="90" source="input"
                        style="meter-style" segments="20" segment-colour="0xFF00D8FF"/>
      </View>

      <!-- 8 Frequency Band Meters -->
      <View x="100" y="40" width="600" height="120">
        <MagicLevelMeter x="0" y="20" width="60" height="90" source="input" style="meter-style"/>
        <Label x="0" y="115" width="60" height="12" text="SUB" style="bitmap-label-small" justification="centred"/>

        <MagicLevelMeter x="80" y="20" width="60" height="90" source="input" style="meter-style"/>
        <Label x="80" y="115" width="60" height="12" text="LOW" style="bitmap-label-small" justification="centred"/>

        <MagicLevelMeter x="160" y="20" width="60" height="90" source="input" style="meter-style"/>
        <Label x="160" y="115" width="60" height="12" text="LMID" style="bitmap-label-small" justification="centred"/>

        <MagicLevelMeter x="240" y="20" width="60" height="90" source="input" style="meter-style"/>
        <Label x="240" y="115" width="60" height="12" text="MID" style="bitmap-label-small" justification="centred"/>

        <MagicLevelMeter x="320" y="20" width="60" height="90" source="input" style="meter-style"/>
        <Label x="320" y="115" width="60" height="12" text="UMID" style="bitmap-label-small" justification="centred"/>

        <MagicLevelMeter x="400" y="20" width="60" height="90" source="input" style="meter-style"/>
        <Label x="400" y="115" width="60" height="12" text="HIGH" style="bitmap-label-small" justification="centred"/>

        <MagicLevelMeter x="480" y="20" width="60" height="90" source="input" style="meter-style"/>
        <Label x="480" y="115" width="60" height="12" text="AIR" style="bitmap-label-small" justification="centred"/>

        <MagicLevelMeter x="560" y="20" width="60" height="90" source="input" style="meter-style"/>
        <Label x="560" y="115" width="60" height="12" text="SPARK" style="bitmap-label-small" justification="centred"/>
      </View>

      <!-- Output Meter -->
      <View x="820" y="40" width="60" height="120">
        <Label x="0" y="0" width="60" height="15" text="OUTPUT" style="bitmap-label-small" justification="centred"/>
        <MagicLevelMeter x="20" y="20" width="20" height="90" source="output"
                        style="meter-style" segments="20" segment-colour="0xFFFF00AA"/>
      </View>
    </View>

  </View>

</magic>
